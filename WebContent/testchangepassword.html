<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	alert("jquery da sang sang");
});
</script>
</head>
<body>
	<form name = "change_password" action = "http://192.168.1.5:8080/otp/change_password_service" method = "post">
		<input id="username" name ="username" value = "dungqa"/>
		<input name = "password" value = "abc123"/>
		<input type="button"  value = "test java script" onClick = doChangePassword1("admin","P@ssw0rd") />
		<input type = "submit" value = "change password" />
	</form>
</body>
</html>

<script>
	function doChangePassword(username, password){
		alert("bat dau");
		var data = null;

		var xhr = new XMLHttpRequest();
		/* xhr.withCredentials = true; */

		xhr.addEventListener("readystatechange", function () {
		  if (this.readyState === 4) {
		    console.log(this.responseText);
		    alert(this.responseText);
		  }
		});

		xhr.open("POST", "http://172.20.1.41:8080/otp/change_password_service");
		xhr.setRequestHeader("username", "abc");
		xhr.setRequestHeader("password", "123");
		/* xhr.setRequestHeader("cache-control", "no-cache"); */
		xhr.send(data);
		alert("data: "+data);
	}
	
	function doChangePassword1(username, password){
		var settings = {
		  "async": true,
		  "crossDomain": true,
		  "url": "http://192.168.1.5:8080/otp/change_password_service",
		  "method": "POST",
		  "headers": {
		    "username": username,
		    "password": password,
		    "cache-control": "no-cache",
		    "Postman-Token": "cd6d2cfc-e038-493e-8e3b-38d9a31bb5ea"
		  }
		}

		$.ajax(settings).done(function (response) {
		  alert(response);
		  console.log(response);
		});
	}
	
</script>


